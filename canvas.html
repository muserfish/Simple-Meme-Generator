<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quick Memes</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" integrity="sha384-zF4BRsG/fLiTGfR9QL82DrilZxrwgY/+du4p/c7J72zZj+FLYq4zY00RylP9ZjiT" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.0.min.js" integrity="sha256-JAW99MJVpJBGcbzEuXk4Az05s/XyDdBomFqNlM3ic+I=" crossorigin="anonymous"></script>
    <meta property="og:image" content="http://trafficshuffle.com/canvas"/>

</head>
<body>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '746842368791748',
      xfbml      : true,
      version    : 'v2.8'
    });
    FB.AppEvents.logPageView();
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

FB.ui(
 {
  method: 'share',
  href: 'https://developers.facebook.com/docs/'
}, function(response){});

</script>


<div class="row" style="margin: 60px;">
    <div class="col-md-4" syle="float: left;">
    <canvas id="mycanvas" width="500px" height="500px" style="background: #B7272C; position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
    <canvas id="mycanvasText" width="500px" height="500px" style="background: transparent; position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
   </div>

   <div class="col-md-4" style="float: left;">
       <button class="btn btn-danger" style="background: #B7272C; float: left; margin-right: 10px;" onclick="onClickingLoad()">Draw</button>
       <select class="form-control" id="selectColor" style="width:120px; float: left;">
          <option value="black">Black Text</option>
          <option value="white">White Text</option>
          <option value="red">Red Text</option>
        </select>
       </br></br></br>
       <div class="form-group">
       <label class="control-label" for="inputDefault">Image URL</label>
       <input id="userurl" class="form-control" id="inputDefault" type="text">
       </div>
       <div class="form-group">
       <label class="control-label" for="inputDefault">Write Top</label>
       <input id="userwrite" class="form-control" id="inputDefault" type="text"></br>
       <label class="control-label" for="inputDefault">Write Bottom</label>
       <input id="userwrite2" class="form-control" id="inputDefault" type="text">
       </div> 
       </br></br></br></br></br></br></br></br>
       <button id="shareButton" class="btn btn-danger" style="background: #B7272C;" href="https://developers.facebook.com/docs/sharing/reference/share-dialog" onclick="ShareButton()">Share</button>
   </div>
</div>
<img id="scream" width="0" height="0" src="" alt="">
<script>

mycanvas = document.getElementById('mycanvas');
mycanvas_2d = mycanvas.getContext('2d');
mycanvasText = document.getElementById('mycanvasText');
mycanvasText_2d = mycanvasText.getContext('2d');

function onClickingLoad(){
mycanvas_2d.clearRect(0, 0, mycanvas.width, mycanvas.height);
mycanvasText_2d.clearRect(0, 0, mycanvasText.width, mycanvasText.height);
document.getElementById('scream').src = document.getElementById('userurl').value;
myimage = document.getElementById('scream');
mycanvas_2d.drawImage(myimage, 0,0, 500, 500);
mycanvasText_2d.clearRect(0, 0, mycanvasText.width, mycanvasText.height);
mytext = document.getElementById('userwrite').value;
mytext2 = document.getElementById('userwrite2').value;
mycanvasText_2d.fillStyle = document.getElementById('selectColor').value;
mycanvasText_2d.font = "bold 35px Arial";
mycanvasText_2d.drawImage(mycanvas, 0,0, 500, 500);
mycanvasText_2d.fillText(mytext, 50, 50, mycanvasText.width - 100);
mycanvasText_2d.fillText(mytext2, 50, 450, mycanvasText.width - 100);
}

function ShareButton() {
  FB.ui({
    method: 'share',
    display: 'popup',
    href: 'http://trafficshuffle.com/canvas',
  }, function(response){});
}

</script>

</body>
</html>